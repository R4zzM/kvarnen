<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
    Remove this if you use the .htaccess -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Lägg till postion</title>
    <meta name="description" content="" />
    <meta name="author" content="Rasmus Mattsson" />

    <meta name="viewport" content="width=device-width; initial-scale=1.0" />

    <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <script type="text/javascript">

      function submitSkillAsJson() {
        var skillName = document.getElementById("skillNameInput").value;
        var jsonObject = {"addskill" : {"name" : skillName}};
        var jsonString = JSON.stringify(jsonObject);

        var httpRequest = XMLHttpRequest();

        httpRequest.onreadystatechange = function() {

          if (httpRequest.readyState === 4) {
            if (!httpRequest.status === 200) {
              alert('There was a problem with the request.');
            }
          }
        };

        httpRequest.open('POST', 'http://localhost:9000/addskill', true);
        httpRequest.setRequestHeader('Content-Type', 'application/json');
        httpRequest.send(jsonString);
      }

    </script>

  </head>

  <body>
    <div>

      <header>
      <h1>Lägg till position</h1>
      </header>

      <form name="myForm">
        <label>Namn på position: <input type="text" id="skillNameInput" name="skillText"/></label>
        <br/>
        <br/>
        <input type="submit" onClick="submitSkillAsJson()" value="Sparbacka"/>
        <input type="reset" value="Rensa"/>
      </form>

    </div>
  </body>

</html>
